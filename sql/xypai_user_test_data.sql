-- =====================================================
-- 限时专享功能测试数据 (Page 05)
-- =====================================================
-- 用途: 为 Limited-Time Exclusive API 提供测试数据
-- 说明: 插入 20+ 用户、技能和统计数据
-- 执行顺序: 先执行建表脚本，再执行本脚本
-- =====================================================

USE xypai_user;

-- 清理旧测试数据 (可选 - 如果需要重置)
-- DELETE FROM user_stats WHERE user_id >= 1000 AND user_id <= 1030;
-- DELETE FROM skills WHERE user_id >= 1000 AND user_id <= 1030;
-- DELETE FROM users WHERE user_id >= 1000 AND user_id <= 1030;

-- =====================================================
-- 1. 插入测试用户 (users 表)
-- =====================================================

-- 用户 1-10: 男性用户
INSERT INTO users (user_id, mobile, country_code, nickname, avatar, gender, birthday, bio, residence, location, is_online, created_at, updated_at, deleted) VALUES
(1001, '13800001001', '+86', '电竞少年阿杰', 'https://avatar.example.com/male1.jpg', 'male', '1998-03-15', '职业电竞选手，擅长MOBA类游戏，国服前100', '110000-110100', ST_GeomFromText('POINT(116.397128 39.916527)', 4326), 1, NOW(), NOW(), 0),
(1002, '13800001002', '+86', '游戏大神老李', 'https://avatar.example.com/male2.jpg', 'male', '1995-07-22', '十年游戏经验，带你轻松上分', '110000-110100', ST_GeomFromText('POINT(116.407394 39.904211)', 4326), 1, NOW(), NOW(), 0),
(1003, '13800001003', '+86', '技术流小王', 'https://avatar.example.com/male3.jpg', 'male', '2000-01-10', '技术流打法，稳定Carry全场', '110000-110200', ST_GeomFromText('POINT(116.481707 39.989502)', 4326), 0, NOW(), NOW(), 0),
(1004, '13800001004', '+86', '射手专精阿强', 'https://avatar.example.com/male4.jpg', 'male', '1997-11-30', 'ADC位置专精，胜率70%+', '110000-110100', ST_GeomFromText('POINT(116.371503 39.942570)', 4326), 1, NOW(), NOW(), 0),
(1005, '13800001005', '+86', '辅助大师老张', 'https://avatar.example.com/male5.jpg', 'male', '1996-05-18', '黄金辅助，保护你到底', '110000-110200', ST_GeomFromText('POINT(116.434446 40.013739)', 4326), 0, NOW(), NOW(), 0),
(1006, '13800001006', '+86', '打野之王小刘', 'https://avatar.example.com/male6.jpg', 'male', '1999-09-05', '节奏大师，带你飞', '310000-310100', ST_GeomFromText('POINT(121.473701 31.230416)', 4326), 1, NOW(), NOW(), 0),
(1007, '13800001007', '+86', '中单法师阿明', 'https://avatar.example.com/male7.jpg', 'male', '1998-12-20', '中路爆发流，一套秒杀', '310000-310100', ST_GeomFromText('POINT(121.458106 31.239692)', 4326), 1, NOW(), NOW(), 0),
(1008, '13800001008', '+86', '坦克战神老赵', 'https://avatar.example.com/male8.jpg', 'male', '1994-08-14', '前排坦克，为你扛伤害', '440000-440100', ST_GeomFromText('POINT(113.264385 23.129112)', 4326), 0, NOW(), NOW(), 0),
(1009, '13800001009', '+86', '刺客专家小周', 'https://avatar.example.com/male9.jpg', 'male', '2001-02-28', '高爆发刺客，切C位如探囊取物', '440000-440100', ST_GeomFromText('POINT(113.280637 23.125178)', 4326), 1, NOW(), NOW(), 0),
(1010, '13800001010', '+86', '全能战士阿华', 'https://avatar.example.com/male10.jpg', 'male', '1997-06-12', '五大位置都能玩，服务态度好', '440000-440300', ST_GeomFromText('POINT(113.324520 23.137790)', 4326), 1, NOW(), NOW(), 0);

-- 用户 11-20: 女性用户
INSERT INTO users (user_id, mobile, country_code, nickname, avatar, gender, birthday, bio, residence, location, is_online, created_at, updated_at, deleted) VALUES
(1011, '13800001011', '+86', '甜心辅助小雪', 'https://avatar.example.com/female1.jpg', 'female', '1999-04-08', '温柔可爱辅助，游戏氛围拉满', '110000-110100', ST_GeomFromText('POINT(116.383331 39.916668)', 4326), 1, NOW(), NOW(), 0),
(1012, '13800001012', '+86', '御姐射手小美', 'https://avatar.example.com/female2.jpg', 'female', '1996-10-15', '御姐音，稳定输出', '110000-110100', ST_GeomFromText('POINT(116.417331 39.921489)', 4326), 1, NOW(), NOW(), 0),
(1013, '13800001013', '+86', '萝莉中单小萌', 'https://avatar.example.com/female3.jpg', 'female', '2000-07-25', '萝莉音法师，可爱又能打', '110000-110200', ST_GeomFromText('POINT(116.489080 39.995380)', 4326), 0, NOW(), NOW(), 0),
(1014, '13800001014', '+86', '高冷法师小冰', 'https://avatar.example.com/female4.jpg', 'female', '1998-01-20', '高端局法师，操作细腻', '310000-310100', ST_GeomFromText('POINT(121.480539 31.235929)', 4326), 1, NOW(), NOW(), 0),
(1015, '13800001015', '+86', '温柔辅助小柔', 'https://avatar.example.com/female5.jpg', 'female', '1997-11-11', '温柔大姐姐，陪你快乐游戏', '310000-310100', ST_GeomFromText('POINT(121.467366 31.247401)', 4326), 1, NOW(), NOW(), 0),
(1016, '13800001016', '+86', '活泼打野小琪', 'https://avatar.example.com/female6.jpg', 'female', '2001-03-30', '活泼可爱，打野节奏好', '440000-440100', ST_GeomFromText('POINT(113.271431 23.135336)', 4326), 0, NOW(), NOW(), 0),
(1017, '13800001017', '+86', '知性射手小慧', 'https://avatar.example.com/female7.jpg', 'female', '1995-09-18', '知性女声，输出稳定', '440000-440100', ST_GeomFromText('POINT(113.287730 23.130042)', 4326), 1, NOW(), NOW(), 0),
(1018, '13800001018', '+86', '可爱萌妹小糖', 'https://avatar.example.com/female8.jpg', 'female', '2002-05-05', '超级萌妹，游戏氛围好', '440000-440300', ST_GeomFromText('POINT(113.330124 23.143890)', 4326), 1, NOW(), NOW(), 0),
(1019, '13800001019', '+86', '温暖辅助小暖', 'https://avatar.example.com/female9.jpg', 'female', '1998-12-01', '温暖治愈系辅助，让你爱上游戏', '110000-110100', ST_GeomFromText('POINT(116.390500 39.909604)', 4326), 0, NOW(), NOW(), 0),
(1020, '13800001020', '+86', '酷飒射手小酷', 'https://avatar.example.com/female10.jpg', 'female', '1999-08-22', '酷飒女声，技术过硬', '310000-310100', ST_GeomFromText('POINT(121.475200 31.228916)', 4326), 1, NOW(), NOW(), 0);

-- 用户 21-25: 额外测试用户 (不同城市)
INSERT INTO users (user_id, mobile, country_code, nickname, avatar, gender, birthday, bio, residence, location, is_online, created_at, updated_at, deleted) VALUES
(1021, '13800001021', '+86', '成都小哥阿峰', 'https://avatar.example.com/male11.jpg', 'male', '1996-06-06', '成都游戏大神，带你吃鸡', '510000-510100', ST_GeomFromText('POINT(104.065735 30.659462)', 4326), 1, NOW(), NOW(), 0),
(1022, '13800001022', '+86', '杭州妹子小西', 'https://avatar.example.com/female11.jpg', 'female', '1998-04-04', '杭州温柔妹子，声音好听', '330000-330100', ST_GeomFromText('POINT(120.153576 30.287459)', 4326), 1, NOW(), NOW(), 0),
(1023, '13800001023', '+86', '深圳技术流阿斌', 'https://avatar.example.com/male12.jpg', 'male', '1997-10-10', '深圳工程师，游戏技术流', '440000-440300', ST_GeomFromText('POINT(114.057868 22.543099)', 4326), 0, NOW(), NOW(), 0),
(1024, '13800001024', '+86', '武汉声优小音', 'https://avatar.example.com/female12.jpg', 'female', '2000-02-14', '专业声优，游戏陪玩氛围拉满', '420000-420100', ST_GeomFromText('POINT(114.305393 30.593099)', 4326), 1, NOW(), NOW(), 0),
(1025, '13800001025', '+86', '西安电竞少年阿凯', 'https://avatar.example.com/male13.jpg', 'male', '1999-07-07', '西安电竞青训选手，实力强劲', '610000-610100', ST_GeomFromText('POINT(108.948024 34.263161)', 4326), 1, NOW(), NOW(), 0);

-- =====================================================
-- 2. 插入技能数据 (skills 表)
-- =====================================================

INSERT INTO skills (user_id, skill_name, category_id, game_id, game_name, price, price_unit, game_rank, rating, order_count, is_online, created_at, updated_at, deleted) VALUES
-- 男性用户技能
(1001, '王者荣耀 - 上分陪练', 1, 101, '王者荣耀', 15.00, 'per_order', '王者', 4.9, 520, 1, NOW(), NOW(), 0),
(1002, '英雄联盟 - 白金带飞', 1, 102, '英雄联盟', 20.00, 'per_order', '铂金I', 4.8, 380, 1, NOW(), NOW(), 0),
(1003, '和平精英 - 吃鸡陪玩', 1, 103, '和平精英', 12.00, 'per_order', '皇冠', 4.7, 210, 1, NOW(), NOW(), 0),
(1004, '王者荣耀 - 射手专精', 1, 101, '王者荣耀', 18.00, 'per_order', '荣耀王者', 4.9, 450, 1, NOW(), NOW(), 0),
(1005, '英雄联盟 - 辅助陪玩', 1, 102, '英雄联盟', 10.00, 'per_order', '黄金I', 4.6, 180, 1, NOW(), NOW(), 0),
(1006, '王者荣耀 - 打野专精', 1, 101, '王者荣耀', 22.00, 'per_order', '荣耀王者', 4.9, 680, 1, NOW(), NOW(), 0),
(1007, '英雄联盟 - 中单Carry', 1, 102, '英雄联盟', 25.00, 'per_order', '钻石II', 4.8, 420, 1, NOW(), NOW(), 0),
(1008, '王者荣耀 - 坦克专精', 1, 101, '王者荣耀', 13.00, 'per_order', '星耀', 4.5, 150, 1, NOW(), NOW(), 0),
(1009, '王者荣耀 - 刺客专精', 1, 101, '王者荣耀', 20.00, 'per_order', '王者', 4.8, 390, 1, NOW(), NOW(), 0),
(1010, '王者荣耀 - 全能陪玩', 1, 101, '王者荣耀', 16.00, 'per_order', '星耀I', 4.7, 310, 1, NOW(), NOW(), 0),

-- 女性用户技能
(1011, '王者荣耀 - 甜美辅助', 1, 101, '王者荣耀', 14.00, 'per_order', '钻石', 4.8, 580, 1, NOW(), NOW(), 0),
(1012, '王者荣耀 - 御姐射手', 1, 101, '王者荣耀', 18.00, 'per_order', '王者', 4.9, 720, 1, NOW(), NOW(), 0),
(1013, '王者荣耀 - 萝莉中单', 1, 101, '王者荣耀', 15.00, 'per_order', '星耀', 4.7, 340, 1, NOW(), NOW(), 0),
(1014, '英雄联盟 - 高冷法师', 1, 102, '英雄联盟', 24.00, 'per_order', '钻石I', 4.9, 510, 1, NOW(), NOW(), 0),
(1015, '王者荣耀 - 温柔辅助', 1, 101, '王者荣耀', 12.00, 'per_order', '星耀', 4.8, 480, 1, NOW(), NOW(), 0),
(1016, '和平精英 - 活泼陪玩', 1, 103, '和平精英', 11.00, 'per_order', '钻石', 4.6, 220, 1, NOW(), NOW(), 0),
(1017, '王者荣耀 - 知性射手', 1, 101, '王者荣耀', 19.00, 'per_order', '王者', 4.9, 650, 1, NOW(), NOW(), 0),
(1018, '王者荣耀 - 萌妹陪玩', 1, 101, '王者荣耀', 13.00, 'per_order', '钻石', 4.8, 590, 1, NOW(), NOW(), 0),
(1019, '王者荣耀 - 治愈辅助', 1, 101, '王者荣耀', 11.00, 'per_order', '星耀', 4.7, 410, 1, NOW(), NOW(), 0),
(1020, '英雄联盟 - 酷飒射手', 1, 102, '英雄联盟', 21.00, 'per_order', '铂金II', 4.8, 370, 1, NOW(), NOW(), 0),

-- 额外用户技能
(1021, '绝地求生 - 成都吃鸡', 1, 104, '绝地求生', 17.00, 'per_order', '大师', 4.7, 280, 1, NOW(), NOW(), 0),
(1022, '王者荣耀 - 杭州妹子', 1, 101, '王者荣耀', 14.00, 'per_order', '星耀', 4.8, 430, 1, NOW(), NOW(), 0),
(1023, '英雄联盟 - 技术流', 1, 102, '英雄联盟', 23.00, 'per_order', '钻石III', 4.6, 190, 1, NOW(), NOW(), 0),
(1024, '王者荣耀 - 声优陪玩', 1, 101, '王者荣耀', 16.00, 'per_order', '星耀', 4.9, 620, 1, NOW(), NOW(), 0),
(1025, '王者荣耀 - 电竞少年', 1, 101, '王者荣耀', 26.00, 'per_order', '荣耀王者', 4.9, 750, 1, NOW(), NOW(), 0);

-- =====================================================
-- 3. 插入用户统计数据 (user_stats 表)
-- =====================================================

INSERT INTO user_stats (user_id, total_orders, total_revenue, fans_count, likes_count, comments_count, avg_rating, response_rate, created_at, updated_at, deleted) VALUES
(1001, 520, 7800.00, 320, 1580, 280, 4.9, 98.5, NOW(), NOW(), 0),
(1002, 380, 7600.00, 210, 1240, 190, 4.8, 96.2, NOW(), NOW(), 0),
(1003, 210, 2520.00, 150, 780, 120, 4.7, 94.8, NOW(), NOW(), 0),
(1004, 450, 8100.00, 380, 1650, 310, 4.9, 99.1, NOW(), NOW(), 0),
(1005, 180, 1800.00, 98, 520, 85, 4.6, 92.3, NOW(), NOW(), 0),
(1006, 680, 14960.00, 520, 2340, 450, 4.9, 99.5, NOW(), NOW(), 0),
(1007, 420, 10500.00, 310, 1680, 280, 4.8, 97.8, NOW(), NOW(), 0),
(1008, 150, 1950.00, 85, 480, 72, 4.5, 90.5, NOW(), NOW(), 0),
(1009, 390, 7800.00, 280, 1430, 240, 4.8, 96.9, NOW(), NOW(), 0),
(1010, 310, 4960.00, 210, 1120, 180, 4.7, 95.4, NOW(), NOW(), 0),
(1011, 580, 8120.00, 450, 2150, 390, 4.8, 98.2, NOW(), NOW(), 0),
(1012, 720, 12960.00, 620, 3280, 510, 4.9, 99.3, NOW(), NOW(), 0),
(1013, 340, 5100.00, 240, 1280, 210, 4.7, 95.6, NOW(), NOW(), 0),
(1014, 510, 12240.00, 420, 2180, 360, 4.9, 98.8, NOW(), NOW(), 0),
(1015, 480, 5760.00, 360, 1840, 310, 4.8, 97.4, NOW(), NOW(), 0),
(1016, 220, 2420.00, 150, 820, 130, 4.6, 93.8, NOW(), NOW(), 0),
(1017, 650, 12350.00, 510, 2710, 440, 4.9, 99.0, NOW(), NOW(), 0),
(1018, 590, 7670.00, 480, 2340, 390, 4.8, 98.5, NOW(), NOW(), 0),
(1019, 410, 4510.00, 310, 1560, 270, 4.7, 96.2, NOW(), NOW(), 0),
(1020, 370, 7770.00, 280, 1480, 240, 4.8, 97.1, NOW(), NOW(), 0),
(1021, 280, 4760.00, 190, 1020, 160, 4.7, 95.8, NOW(), NOW(), 0),
(1022, 430, 6020.00, 320, 1680, 290, 4.8, 97.6, NOW(), NOW(), 0),
(1023, 190, 4370.00, 120, 650, 98, 4.6, 93.2, NOW(), NOW(), 0),
(1024, 620, 9920.00, 480, 2480, 420, 4.9, 98.9, NOW(), NOW(), 0),
(1025, 750, 19500.00, 680, 3420, 580, 4.9, 99.6, NOW(), NOW(), 0);

-- =====================================================
-- 验证数据插入
-- =====================================================

-- 查看插入的用户数量
SELECT COUNT(*) AS total_users FROM users WHERE user_id BETWEEN 1001 AND 1025 AND deleted = 0;

-- 查看插入的技能数量
SELECT COUNT(*) AS total_skills FROM skills WHERE user_id BETWEEN 1001 AND 1025 AND deleted = 0;

-- 查看插入的统计数据数量
SELECT COUNT(*) AS total_stats FROM user_stats WHERE user_id BETWEEN 1001 AND 1025 AND deleted = 0;

-- 查看在线用户数量
SELECT COUNT(*) AS online_users FROM users WHERE user_id BETWEEN 1001 AND 1025 AND is_online = 1 AND deleted = 0;

-- 查看有上架技能的用户数量（这是限时专享接口会返回的用户）
SELECT COUNT(DISTINCT u.user_id) AS users_with_skills
FROM users u
INNER JOIN skills s ON u.user_id = s.user_id AND s.is_online = 1 AND s.deleted = 0
WHERE u.user_id BETWEEN 1001 AND 1025 AND u.deleted = 0;

-- =====================================================
-- 完成
-- =====================================================
-- 测试数据已插入完成！
-- 用户ID范围: 1001-1025 (共25个用户)
-- 包含: 男性用户 13人, 女性用户 12人
-- 在线用户: 约18人 (is_online = 1)
-- 所有用户都有上架技能 (is_online = 1)
-- =====================================================
