# XyPai-User ç”¨æˆ·æœåŠ¡å¿«é€Ÿç†è§£

## ğŸ“Œ æ ¸å¿ƒå®šä½
å‘å¨±æ‹ç”¨æˆ·æœåŠ¡ï¼ŒåŸºäº Spring Cloud å¾®æœåŠ¡æ¶æ„ã€‚

**æœ¬æ¨¡å—èŒè´£**ï¼šæä¾›ç”¨æˆ·èµ„æ–™ã€ç¤¾äº¤å…³ç³»ã€æŠ€èƒ½ç®¡ç†åŠŸèƒ½ï¼Œç›´æ¥è¿æ¥ `xypai_user` æ•°æ®åº“ï¼ŒåŒæ—¶ä½œä¸º Dubbo RPC Provider ä¸º `xypai-auth` æä¾›ç”¨æˆ·æ•°æ®æœåŠ¡ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½
- **ç”¨æˆ·èµ„æ–™ç®¡ç†**ï¼š11 ä¸ªå¯ç¼–è¾‘å­—æ®µ + å®æ—¶ä¿å­˜
- **ç¤¾äº¤å…³ç³»**ï¼šå…³æ³¨/å–å…³ã€ç²‰ä¸/å…³æ³¨åˆ—è¡¨ã€æ‹‰é»‘ã€ä¸¾æŠ¥
- **æŠ€èƒ½å¸‚åœº**ï¼šçº¿ä¸ŠæŠ€èƒ½ï¼ˆæ¸¸æˆé™ªç©ï¼‰+ çº¿ä¸‹æŠ€èƒ½ï¼ˆæœ¬åœ°æœåŠ¡ï¼‰
- **RPC æœåŠ¡**ï¼šä¸ºè®¤è¯æœåŠ¡æä¾›ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æŸ¥è¯¢æ¥å£

## ğŸ—ï¸ æŠ€æœ¯æ ˆ
```
Spring Boot 3.x + MyBatis Plus + Dubbo RPC + Nacos
MySQL (xypai_user æ•°æ®åº“ï¼Œ9 å¼ è¡¨) + Redis (ç¼“å­˜) + OSS (æ–‡ä»¶å­˜å‚¨)
```

## ğŸ“ æ ¸å¿ƒç›®å½•ç»“æ„
```
xypai-user/
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ app/                                # App ç«¯ API æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ ProfileController.java         # ç”¨æˆ·èµ„æ–™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ RelationController.java        # ç¤¾äº¤å…³ç³»ï¼ˆå…³æ³¨/æ‹‰é»‘/ä¸¾æŠ¥ï¼‰
â”‚   â”‚   â”œâ”€â”€ SkillController.java           # æŠ€èƒ½ç®¡ç†ï¼ˆçº¿ä¸Š/çº¿ä¸‹ï¼‰
â”‚   â”‚   â””â”€â”€ SkillConfigController.java     # æŠ€èƒ½é…ç½®ï¼ˆæ·»åŠ æŠ€èƒ½é¡µä½¿ç”¨ï¼‰
â”‚   â””â”€â”€ feign/
â”‚       â””â”€â”€ RemoteAppUserServiceImpl.java  # Dubbo RPC Provider
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ ISkillConfigService.java           # æŠ€èƒ½é…ç½®æ¥å£
â”‚   â””â”€â”€ impl/
â”‚       â”œâ”€â”€ UserServiceImpl.java           # ç”¨æˆ·æœåŠ¡ï¼ˆå« CRUDï¼‰
â”‚       â”œâ”€â”€ RelationServiceImpl.java       # å…³ç³»æœåŠ¡ï¼ˆåŒå‘ç®¡ç†ï¼‰
â”‚       â”œâ”€â”€ SkillServiceImpl.java          # æŠ€èƒ½æœåŠ¡ï¼ˆç©ºé—´æŸ¥è¯¢ï¼‰
â”‚       â””â”€â”€ SkillConfigServiceImpl.java    # æŠ€èƒ½é…ç½®æœåŠ¡ï¼ˆæ•°æ®åº“åŠ è½½ï¼‰
â”œâ”€â”€ mapper/                                 # MyBatis Plus Mapper
â”‚   â”œâ”€â”€ UserMapper.java
â”‚   â”œâ”€â”€ UserRelationMapper.java
â”‚   â”œâ”€â”€ SkillMapper.java
â”‚   â”œâ”€â”€ SkillConfigMapper.java             # æŠ€èƒ½é…ç½® Mapper
â”‚   â””â”€â”€ SkillRankConfigMapper.java         # æ®µä½é…ç½® Mapper
â””â”€â”€ domain/
    â”œâ”€â”€ entity/                             # å®ä½“ç±»
    â”‚   â”œâ”€â”€ SkillConfig.java               # æŠ€èƒ½é…ç½®å®ä½“
    â”‚   â””â”€â”€ SkillRankConfig.java           # æ®µä½é…ç½®å®ä½“
    â”œâ”€â”€ dto/                                # è¯·æ±‚ DTO
    â””â”€â”€ vo/
        â””â”€â”€ SkillConfigVo.java             # æŠ€èƒ½é…ç½®å“åº” VO
```

## ğŸ”‘ æ ¸å¿ƒæ¥å£

### ç”¨æˆ·èµ„æ–™ï¼ˆProfileControllerï¼‰
| æ¥å£ | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `GET /api/user/profile/me` | è·å–æˆ‘çš„èµ„æ–™ | 11 ä¸ªå¯ç¼–è¾‘å­—æ®µ + JSON æ‰©å±• |
| `GET /api/user/profile/edit` | è·å–ç¼–è¾‘é¡µæ•°æ® | åŒ…å« occupationsï¼ˆèŒä¸šåˆ—è¡¨ï¼‰ã€locationCodeï¼ˆå¸¸å±…åœ°ç¼–ç ï¼‰ |
| `PUT /api/user/profile` | æ›´æ–°ç”¨æˆ·èµ„æ–™ | æ”¯æŒæ‰¹é‡æ›´æ–°å¤šä¸ªå­—æ®µ |
| `PUT /api/user/profile/nickname` | æ›´æ–°æ˜µç§° | - |
| `PUT /api/user/profile/avatar` | æ›´æ–°å¤´åƒ | OSS ä¸Šä¼  |
| `PUT /api/user/profile/birthday` | æ›´æ–°ç”Ÿæ—¥ | - |
| `PUT /api/user/profile/gender` | æ›´æ–°æ€§åˆ« | male/female |
| `PUT /api/user/profile/residence` | æ›´æ–°å¸¸å±…åœ° | æ”¯æŒåŒæ—¶ä¿å­˜ residence å’Œ locationCode |

### èŒä¸šå¤šé€‰ï¼ˆOccupationControllerï¼‰
| æ¥å£ | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `GET /api/user/profile/occupations` | è·å–ç”¨æˆ·èŒä¸šåˆ—è¡¨ | è¿”å› List<String>ï¼Œæœ€å¤š 5 ä¸ª |
| `PUT /api/user/profile/occupations` | æ‰¹é‡æ›´æ–°èŒä¸šåˆ—è¡¨ | æœ€å¤š 5 ä¸ªèŒä¸š |
| `POST /api/user/profile/occupations/{name}` | æ·»åŠ å•ä¸ªèŒä¸š | - |
| `DELETE /api/user/profile/occupations/{name}` | åˆ é™¤å•ä¸ªèŒä¸š | - |

### ç¤¾äº¤å…³ç³»
| æ¥å£ | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `POST /api/user/relation/follow/:followingId` | å…³æ³¨ç”¨æˆ· | åŒå‘ç»Ÿè®¡æ›´æ–° |
| `DELETE /api/user/relation/unfollow/:followingId` | å–æ¶ˆå…³æ³¨ | - |
| `GET /api/user/relation/followers` | ç²‰ä¸åˆ—è¡¨ | åˆ†é¡µ + relationStatus |
| `GET /api/user/relation/following` | å…³æ³¨åˆ—è¡¨ | åˆ†é¡µ + relationStatus |
| `POST /api/user/relation/batch-status` | æ‰¹é‡è·å–å…³ç³»çŠ¶æ€ | Map<userId, RelationStatus> |
| `POST /api/user/relation/block/:blockedUserId` | æ‹‰é»‘ç”¨æˆ· | - |
| `POST /api/user/relation/report/:reportedUserId` | ä¸¾æŠ¥ç”¨æˆ· | ä¸¾æŠ¥ç±»å‹ + åŸå›  |

### æŠ€èƒ½ç®¡ç†
| æ¥å£ | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `POST /api/user/skills/online` | åˆ›å»ºçº¿ä¸ŠæŠ€èƒ½ | gameName, gameRank, skillName, description, price, serviceHours, isOnline |
| `POST /api/user/skills/offline` | åˆ›å»ºçº¿ä¸‹æŠ€èƒ½ | serviceName, serviceType, description, price, latitude, longitude |
| `GET /api/user/skills/my` | æˆ‘çš„æŠ€èƒ½åˆ—è¡¨ | åˆ†é¡µæŸ¥è¯¢ |
| `PUT /api/user/skills/:skillId` | æ›´æ–°æŠ€èƒ½ | - |
| `DELETE /api/user/skills/:skillId` | åˆ é™¤æŠ€èƒ½ | - |
| `PUT /api/user/skills/:skillId/online` | ä¸Šæ¶æŠ€èƒ½ | è®¾ç½® is_online = 1 |
| `PUT /api/user/skills/:skillId/offline` | ä¸‹æ¶æŠ€èƒ½ | è®¾ç½® is_online = 0 |

### æŠ€èƒ½é…ç½®ï¼ˆæ·»åŠ æŠ€èƒ½é¡µé¢ä½¿ç”¨ï¼‰
| æ¥å£ | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `GET /api/skills/config` | è·å–æŠ€èƒ½é…ç½® | skillsï¼ˆæŠ€èƒ½åˆ—è¡¨ï¼‰ã€rankOptionsï¼ˆæ®µä½é€‰é¡¹ï¼‰ã€timeOptionsï¼ˆæ—¶é—´é€‰é¡¹ï¼‰ |

**æŠ€èƒ½é…ç½® Service**ï¼š
- `ISkillConfigService` + `SkillConfigServiceImpl`
- ä» `skill_config` å’Œ `skill_rank_config` è¡¨åŠ è½½é…ç½®æ•°æ®
- æä¾› `skillConfigId` æœ‰æ•ˆæ€§æ ¡éªŒæ–¹æ³•

## ğŸ’¾ æ•°æ®åº“ï¼šxypai_userï¼ˆ12 å¼ è¡¨ï¼‰
```sql
-- ç”¨æˆ·ç›¸å…³ï¼ˆ4 å¼ è¡¨ï¼‰
xy_user                # ç”¨æˆ·ä¸»è¡¨ï¼ˆ33 å­—æ®µ + 8 ä¸ª JSON æ‰©å±•å­—æ®µï¼ŒåŒ…å« location_codeï¼‰
user_stats             # ç”¨æˆ·ç»Ÿè®¡ï¼ˆå…³æ³¨æ•°ã€ç²‰ä¸æ•°ã€æŠ€èƒ½æ•°ç­‰ï¼‰
user_relation          # å…³æ³¨å…³ç³»ï¼ˆåŒå‘è®°å½•ï¼‰
user_occupations       # ç”¨æˆ·èŒä¸šè¡¨ï¼ˆæ”¯æŒå¤šèŒä¸šï¼Œæœ€å¤š 5 ä¸ªï¼‰

-- ç¤¾äº¤ç›¸å…³ï¼ˆ2 å¼ è¡¨ï¼‰
user_blacklist         # é»‘åå•
user_report            # ä¸¾æŠ¥è®°å½•

-- æŠ€èƒ½ç›¸å…³ï¼ˆ6 å¼ è¡¨ï¼‰
skills                 # æŠ€èƒ½ä¸»è¡¨ï¼ˆçº¿ä¸Š/çº¿ä¸‹ï¼Œå« peak_score å·…å³°åˆ†å­—æ®µï¼‰
skill_image            # æŠ€èƒ½å›¾ç‰‡
skill_promise          # æŠ€èƒ½æ‰¿è¯ºï¼ˆé™ªç©ä¿è¯ï¼‰
skill_available_time   # å¯ç”¨æ—¶é—´æ®µï¼ˆçº¿ä¸‹æŠ€èƒ½ï¼‰
skill_config           # æŠ€èƒ½é…ç½®ï¼ˆæŠ€èƒ½é€‰æ‹©å™¨ç½‘æ ¼æ•°æ®ï¼‰
skill_rank_config      # æ®µä½é…ç½®ï¼ˆæ®µä½é€‰æ‹©å™¨æ•°æ®ï¼‰
```

### skills è¡¨æ ¸å¿ƒå­—æ®µ
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `skill_id` | BIGINT | ä¸»é”® |
| `user_id` | BIGINT | ç”¨æˆ·ID |
| `game_name` | VARCHAR(50) | æ¸¸æˆåç§°ï¼ˆå¦‚"ç‹è€…è£è€€"ï¼‰ |
| `game_rank` | VARCHAR(50) | æ¸¸æˆæ®µä½ï¼ˆå¦‚"è£è€€ç‹è€…"ï¼‰ |
| `peak_score` | INT | å·…å³°åˆ†ï¼ˆç‹è€…è£è€€ä¸“ç”¨ï¼Œv1.0.8æ–°å¢ï¼‰ |
| `server` | VARCHAR(50) | å¤§åŒºï¼ˆå¦‚"å¾®ä¿¡åŒº"ï¼‰ |
| `price` | DECIMAL(10,2) | ä»·æ ¼ |
| `is_online` | TINYINT | æ˜¯å¦ä¸Šæ¶ |

## ğŸ›ï¸ å¾®æœåŠ¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  xypai-auth     â”‚  â† è®¤è¯æœåŠ¡ï¼ˆæ— æ•°æ®åº“ï¼‰
â”‚  (è®¤è¯ API)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Dubbo RPC è°ƒç”¨
         â”‚ RemoteAppUserService
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  xypai-user     â”‚  â† æœ¬æ¨¡å—ï¼ˆç”¨æˆ·æœåŠ¡ï¼‰
â”‚  (ç”¨æˆ· CRUD)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ MyBatis Plus
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ xypai_user      â”‚  â† MySQL æ•°æ®åº“ï¼ˆ12 å¼ è¡¨ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¡ RPC æ¥å£ï¼ˆä¾›å…¶ä»–æœåŠ¡è°ƒç”¨ï¼‰

### RemoteAppUserService - ç”¨æˆ·æœåŠ¡
| æ–¹æ³• | è¯´æ˜ | è°ƒç”¨æ–¹ |
|------|------|--------|
| `getUserByMobile()` | æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ· | xypai-auth |
| `getUserById()` | IDæŸ¥è¯¢ç”¨æˆ· | xypai-auth |
| `registerOrGetByMobile()` | æ³¨å†Œæˆ–è·å–ç”¨æˆ· | xypai-auth |
| `getFilterConfig()` | è·å–ç­›é€‰é…ç½® | xypai-app-bff |
| `queryFilteredUsers()` | ç­›é€‰ç”¨æˆ·åˆ—è¡¨ | xypai-app-bff |
| `queryLimitedTimeUsers()` | é™æ—¶ä¸“äº«ç”¨æˆ·åˆ—è¡¨ | xypai-app-bff |
| `querySkillServiceList()` | æŠ€èƒ½æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ | xypai-app-bff |
| `getSkillServiceDetail()` | æŠ€èƒ½æœåŠ¡è¯¦æƒ… | xypai-app-bff |
| `getSkillServiceReviews()` | æŠ€èƒ½æœåŠ¡è¯„ä»·åˆ—è¡¨ | xypai-app-bff |
| `getOtherUserProfile()` | å¯¹æ–¹ä¸»é¡µæ•°æ® | xypai-app-bff |
| `getProfileInfo()` | ç”¨æˆ·èµ„æ–™è¯¦æƒ… | xypai-app-bff |
| `getUserSkillsList()` | ç”¨æˆ·æŠ€èƒ½åˆ—è¡¨ | xypai-app-bff |
| `followUser()` / `unfollowUser()` | å…³æ³¨/å–æ¶ˆå…³æ³¨ | xypai-app-bff |
| `unlockWechat()` | è§£é”å¾®ä¿¡ | xypai-app-bff |

### SkillMapper æ ¸å¿ƒæŸ¥è¯¢æ–¹æ³•
| æ–¹æ³• | è¯´æ˜ | ç‰¹æ®Šå­—æ®µ |
|------|------|----------|
| `querySkillServiceListWithUser()` | æŠ€èƒ½æœåŠ¡åˆ—è¡¨ï¼ˆè”åˆç”¨æˆ·è¡¨ï¼‰ | æ”¯æŒå¤šç»´åº¦ç­›é€‰ã€æ’åº |
| `countSkillServiceList()` | ç»Ÿè®¡æŠ€èƒ½æœåŠ¡æ•°é‡ | åˆ†é¡µæ€»æ•° |
| `countByGameName()` | æŒ‰æ¸¸æˆåç»Ÿè®¡ | Tabç»Ÿè®¡ |
| `countOnlineByGameName()` | ç»Ÿè®¡åœ¨çº¿ç”¨æˆ·æŠ€èƒ½æ•° | åœ¨çº¿Tabç»Ÿè®¡ |

## ğŸ”¥ æŠ€æœ¯äº®ç‚¹
1. **Dubbo RPC Provider**ï¼šä¸º `xypai-auth` å’Œ `xypai-app-bff` æä¾›ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æŸ¥è¯¢ã€æŠ€èƒ½æŸ¥è¯¢ç­‰è¿œç¨‹æ¥å£
2. **MyBatis Plus + @Select æ³¨è§£**ï¼šå¤§éƒ¨åˆ†ä½¿ç”¨ LambdaQueryWrapperï¼Œå¤æ‚æŸ¥è¯¢ä½¿ç”¨ SkillMapper @Select åŠ¨æ€ SQL
3. **æŠ€èƒ½æœåŠ¡åˆ—è¡¨æŸ¥è¯¢**ï¼š`querySkillServiceListWithUser` æ”¯æŒå¤šç»´åº¦ç­›é€‰ï¼ˆæ¸¸æˆ/æ€§åˆ«/æ®µä½/ä»·æ ¼/å¤§åŒºï¼‰å’Œæ™ºèƒ½æ’åº
4. **é™æ—¶ä¸“äº«æŸ¥è¯¢**ï¼š`queryLimitedTimeUsers` é€šè¿‡ INNER JOIN skills æŸ¥è¯¢æœ‰ä¸Šæ¶æŠ€èƒ½çš„ç”¨æˆ·
5. **æŠ€èƒ½ç­›é€‰æŸ¥è¯¢**ï¼š`queryFilteredUsers` æ”¯æŒå¤šç»´åº¦ç­›é€‰ï¼ˆç±»å‹ã€æ€§åˆ«ã€å¹´é¾„ã€ä»·æ ¼ã€æ®µä½ç­‰ï¼‰
6. **åŒå‘ç»Ÿè®¡ç®¡ç†**ï¼šå…³æ³¨/å–å…³è‡ªåŠ¨æ›´æ–°åŒæ–¹çš„ç²‰ä¸æ•°å’Œå…³æ³¨æ•°
7. **æŠ€èƒ½å¸‚åœºè®¾è®¡**ï¼šçº¿ä¸ŠæŠ€èƒ½ï¼ˆæ¸¸æˆé™ªç©ï¼‰+ çº¿ä¸‹æŠ€èƒ½ï¼ˆæœ¬åœ°æœåŠ¡ + ç©ºé—´æŸ¥è¯¢ï¼‰
8. **JSON æ‰©å±•å­—æ®µ**ï¼š8 ä¸ª JSON å­—æ®µé¿å…é¢‘ç¹ä¿®è¡¨ï¼ˆprofile_json, stats_json, wallet_json ç­‰ï¼‰
9. **ç©ºé—´è·ç¦»è®¡ç®—**ï¼šä½¿ç”¨ MySQL ST_Distance_Sphere è®¡ç®—ç”¨æˆ·ä¸æŠ€èƒ½çš„è·ç¦»

## ğŸ“¦ ä¾èµ–å…³ç³»
```
xypai-auth (è®¤è¯æœåŠ¡)
  â†“ Dubbo RPC è°ƒç”¨ (ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æŸ¥è¯¢)
xypai-user (æœ¬æ¨¡å—) â† å®ç° xypai-api-appuser æ¥å£
  â†“ MyBatis Plus + SkillMapper
xypai_user æ•°æ®åº“ (12 å¼ è¡¨)

xypai-app-bff (èšåˆæœåŠ¡)
  â†“ Dubbo RPC è°ƒç”¨ (é™æ—¶ä¸“äº«ã€æŠ€èƒ½ç­›é€‰ã€æŠ€èƒ½æœåŠ¡åˆ—è¡¨)
xypai-user (æœ¬æ¨¡å—)
  â†“ SkillMapper è‡ªå®šä¹‰æŸ¥è¯¢
  - queryLimitedTimeUsers: æŸ¥è¯¢æœ‰ä¸Šæ¶æŠ€èƒ½çš„ç”¨æˆ·
  - queryFilteredUsers: å¤šç»´åº¦ç­›é€‰ç”¨æˆ·
  - querySkillServiceListWithUser: æŠ€èƒ½æœåŠ¡åˆ—è¡¨ï¼ˆè”åˆç”¨æˆ·è¡¨ï¼‰
  - countSkillServiceList: ç»Ÿè®¡æŠ€èƒ½æœåŠ¡æ•°é‡
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨
```bash
# 1. ç¡®ä¿ä¾èµ–æœåŠ¡å·²å¯åŠ¨
#    - Nacosï¼ˆæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼‰
#    - MySQLï¼ˆxypai_user æ•°æ®åº“ï¼Œå¯¼å…¥ sql/xypai_user.sqlï¼‰
#    - Redisï¼ˆç¼“å­˜ï¼‰
#    - OSSï¼ˆæ–‡ä»¶å­˜å‚¨ï¼Œå¯é€‰ï¼‰

# 2. å¯åŠ¨æœ¬æœåŠ¡
cd xypai-user
mvn clean package -DskipTests
java -jar target/xypai-user.jar

# é»˜è®¤ç«¯å£ï¼š9401
# Swagger UI: http://localhost:9401/doc.html
```

## ğŸ“Œ æ³¨æ„äº‹é¡¹
- **ç›´æ¥è¿æ¥æ•°æ®åº“**ï¼šæœ¬æ¨¡å—ç›´æ¥è¿æ¥ `xypai_user` æ•°æ®åº“ï¼ŒåŒ…å« 12 å¼ è¡¨
- **Dubbo RPC Provider**ï¼šå¿…é¡»å…ˆå¯åŠ¨æœ¬æœåŠ¡ï¼Œ`xypai-auth` å’Œ `xypai-app-bff` æ‰èƒ½æ­£å¸¸è°ƒç”¨
- **æ•°æ®åº“åˆå§‹åŒ–**ï¼šé¦–æ¬¡å¯åŠ¨å‰éœ€å¯¼å…¥ `sql/xypai_user.sql` åˆ›å»ºè¡¨ç»“æ„
- **æµ‹è¯•æ•°æ®åˆå§‹åŒ–**ï¼šå¯æ‰§è¡Œ `script/sql/Xuser/sql/05_init_skills_test_data.sql` æ·»åŠ æŠ€èƒ½æµ‹è¯•æ•°æ®
- `xy_user` è¡¨æœ‰ 8 ä¸ª JSON æ‰©å±•å­—æ®µï¼Œå­˜å‚¨éç»“æ„åŒ–æ•°æ®
- ç¤¾äº¤å…³ç³»é‡‡ç”¨åŒå‘ç»Ÿè®¡ï¼Œå…³æ³¨/å–å…³ä¼šåŒæ—¶æ›´æ–°ä¸¤ä¸ªç”¨æˆ·çš„ç»Ÿè®¡æ•°æ®
- çº¿ä¸‹æŠ€èƒ½æ”¯æŒç©ºé—´æŸ¥è¯¢ï¼ˆåŸºäºç»çº¬åº¦æŸ¥æ‰¾é™„è¿‘æœåŠ¡ï¼‰
- é™æ—¶ä¸“äº«æŸ¥è¯¢éœ€è¦ç”¨æˆ·æœ‰ä¸Šæ¶çš„æŠ€èƒ½ï¼ˆskills.is_online = 1ï¼‰
- æ‰€æœ‰æ¥å£è¿”å›ç»Ÿä¸€æ ¼å¼ `R<T>` (code, message, data)

## ğŸ§ª é›†æˆæµ‹è¯•
```bash
# é™æ—¶ä¸“äº«åŠŸèƒ½æµ‹è¯•ï¼ˆéœ€è¦å…ˆåˆ›å»ºæµ‹è¯•æ•°æ®ï¼‰
# æµ‹è¯•æ–‡ä»¶: xypai-aggregation/xypai-app-bff/src/test/java/org/dromara/appbff/pages/Page05_LimitedTimeTest.java
# è¯¥æµ‹è¯•ä¼šé€šè¿‡ API è‡ªåŠ¨åˆ›å»ºæµ‹è¯•ç”¨æˆ·å’ŒæŠ€èƒ½

mvn test -Dtest=Page05_LimitedTimeTest
```

---
*æœ€åæ›´æ–°ï¼š2025-12-04*
