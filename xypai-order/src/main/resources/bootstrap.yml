spring:
  application:
    name: xypai-order
  profiles:
    active: dev

  cloud:
    nacos:
      # Service Discovery
      discovery:
        server-addr: ${NACOS_SERVER:localhost:8848}
        namespace: ${NACOS_NAMESPACE:dev}
        group: DEFAULT_GROUP
        username: ${NACOS_USERNAME:nacos}
        password: ${NACOS_PASSWORD:nacos}

      # Dynamic Configuration
      config:
        server-addr: ${NACOS_SERVER:localhost:8848}
        namespace: ${NACOS_NAMESPACE:dev}
        group: DEFAULT_GROUP
        username: ${NACOS_USERNAME:nacos}
        password: ${NACOS_PASSWORD:nacos}
        file-extension: yml
        shared-configs:
          - data-id: common-redis.yml
            group: DEFAULT_GROUP
            refresh: true
          - data-id: common-mysql.yml
            group: DEFAULT_GROUP
            refresh: true
          - data-id: common-dubbo.yml
            group: DEFAULT_GROUP
            refresh: true

# Dubbo Configuration
dubbo:
  application:
    name: ${spring.application.name}
    qos-enable: false

  protocol:
    name: dubbo
    port: -1
    serialization: hessian2

  registry:
    address: nacos://${spring.cloud.nacos.discovery.server-addr}
    username: ${spring.cloud.nacos.discovery.username}
    password: ${spring.cloud.nacos.discovery.password}
    parameters:
      namespace: ${spring.cloud.nacos.discovery.namespace}

  provider:
    timeout: 10000
    retries: 0

  consumer:
    timeout: 10000
    retries: 0
    check: false
